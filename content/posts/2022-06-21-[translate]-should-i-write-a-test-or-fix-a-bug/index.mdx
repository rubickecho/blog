---
title: 【翻译】我应该编写测试还是修复错误？
date: 2022-06-22
description: Defence Against the Dark Arts (abbreviated as DADA) is a subject taught at Hogwarts School of Witchcraft and Wizardry and Ilvermorny School of Witchcraft and Wizardry.
defer: false
tags: ["Translations", "Testing"]
---

> This is a translation of the original post
> [Should I write a test or fix a bug?](https://kentcdodds.com/blog/should-i-write-a-test-or-fix-a-bug) by
> [Kent C. Dodds](https://kentcdodds.com/).

自动测试和我们编写的其他任何软件都没有区别，它们和其他的东西一样，都是在同一个优先级的竞争场地上进行的。
你可能有一些功能需要说明，设计需要做，错误需要修复，需求会议要开，功能标志要配置等等等等。
但是为了能够确定这些事情的优先级，你需要知道什么也不做的代价和完成这些事情的好处。
当涉及到确定优先级时，你不会说你“不会”做某件事，而是会说”先做“某一件事。
所以，了解以后再做时的相对成本/收益与现在做的成本/收益对你是很有帮助的。

让我们看看这几种不同的情况:

1. 一个 bug 让用户在没有上传头像的情况下无法更新他们的简历
2. 你的产品结账流程没有被测试所覆盖

对于这个 bug，对于少数没有上传头像但想要更改他们的简历的用户来说，代价就是一个不可靠的用户界面，这不是很好的用户体验。

对于付款流程，这是相当严重的。对涉及该流程的代码的任何更改都可能中断付款流程(这可能会让卖方付出真正的金钱，而让买方付出宝贵的时间)。

我认为对于这一点，让我们先优先添加一个测试，然后再修复这个 bug。

Ok, 我们看下另一种情况:

1. 你是一家初创公司，你还没有真正开始销售你的产品，因为它的功能还不够完整，不够实用。你的钱快用完了。
2. 你刚刚写了一个小函数来计算用户按ArrowDown键时你的可滚动列表需要滚动的距离，你正试图决定是否测试它。

天呐!快跳过测试，先把你的产品销售出去，你的💰正在燃烧!

也就是说，你可能会发现，你给潜在客户的演示并不顺利，因为你的工程师可能不断地在写有问题的代码。
在这种情况下，为你的演示所采取的常见流程写一两个快速而简单的 E2E 测试，并在你合并任何代码之前运行它。

让我们看看最后一种情况。只是为了好玩。

1. 你刚刚完成了一个新功能的实施，允许用户创建一个他们最喜欢的歌曲的播放列表。你在想是否要添加测试。
2. 你在你最喜欢的开发者的直播中看到了一个惊人的字体和编辑器主题，你想问他们那是什么，这样你就可以试试了。

So, 就去做吧!

我在这篇文章中想表达的是，测试与你用时间做其他任何事情没有区别。
考虑成本和收益，并采取相应的行动。
请记住，测试是不断给予的礼物。

Good luck!